<% if @message.errors.any? %>
  // handle validation errors later
<% else %>
  var messagesContainer = document.querySelector('.messages');
  messagesContainer.insertAdjacentHTML('beforeend', '<%= j render "message", message: @message, user_is_messages_author: @message.user == current_user, user_is_teacher: false %>');
  messages = document.querySelectorAll(".message");
  var lastMessage = messages[messages.length - 1];
  lastMessage.parentNode.scrollTop = lastMessage.offsetTop - lastMessage.parentNode.offsetTop;
  // lastMessage.scrollIntoView();
  var input = document.querySelector('#message_content');
  input.value = '';
<% end %>
